# [Metaframe](https://metapages.org/): javascript runner with [chromajs](https://www.npmjs.com/package/chroma-js)


[![](https://mermaid.ink/svg/eyJjb2RlIjoiZ3JhcGggTFJcbiAgaW5wdXQoXCJhbnkgaW5wdXRzICZlbnNwO1wiKVxuICBvdXRwdXQoXCJvdXRwdXRzICZlbnNwO1wiKVxuICBzdWJncmFwaCBcIm1ldGFmcmFtZSAmZW5zcDtcIlxuICAgIHVybFtcImphdmFzY3JpcHQgY29kZSBpbiBoYXNoIHBhcmFtcyAmZW5zcDtcIl0gLS0-IHRoaXNcbiAgICB0aGlzW1tcIm1ldGFmcmFtZSBleGVjdXRlcyBqYXZhc2NyaXB0IG9uIG5ldyBpbnB1dHMgJmVuc3A7XCJdXVxuICBlbmRcbiAgaW5wdXQgLS0-IHRoaXNcbiAgdGhpcyAtLT4gb3V0cHV0XG4iLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCIsInRoZW1lVmFyaWFibGVzIjp7ImJhY2tncm91bmQiOiJ3aGl0ZSIsInByaW1hcnlDb2xvciI6IiNFQ0VDRkYiLCJzZWNvbmRhcnlDb2xvciI6IiNmZmZmZGUiLCJ0ZXJ0aWFyeUNvbG9yIjoiaHNsKDgwLCAxMDAlLCA5Ni4yNzQ1MDk4MDM5JSkiLCJwcmltYXJ5Qm9yZGVyQ29sb3IiOiJoc2woMjQwLCA2MCUsIDg2LjI3NDUwOTgwMzklKSIsInNlY29uZGFyeUJvcmRlckNvbG9yIjoiaHNsKDYwLCA2MCUsIDgzLjUyOTQxMTc2NDclKSIsInRlcnRpYXJ5Qm9yZGVyQ29sb3IiOiJoc2woODAsIDYwJSwgODYuMjc0NTA5ODAzOSUpIiwicHJpbWFyeVRleHRDb2xvciI6IiMxMzEzMDAiLCJzZWNvbmRhcnlUZXh0Q29sb3IiOiIjMDAwMDIxIiwidGVydGlhcnlUZXh0Q29sb3IiOiJyZ2IoOS41MDAwMDAwMDAxLCA5LjUwMDAwMDAwMDEsIDkuNTAwMDAwMDAwMSkiLCJsaW5lQ29sb3IiOiIjMzMzMzMzIiwidGV4dENvbG9yIjoiIzMzMyIsIm1haW5Ca2ciOiIjRUNFQ0ZGIiwic2Vjb25kQmtnIjoiI2ZmZmZkZSIsImJvcmRlcjEiOiIjOTM3MERCIiwiYm9yZGVyMiI6IiNhYWFhMzMiLCJhcnJvd2hlYWRDb2xvciI6IiMzMzMzMzMiLCJmb250RmFtaWx5IjoiXCJ0cmVidWNoZXQgbXNcIiwgdmVyZGFuYSwgYXJpYWwiLCJmb250U2l6ZSI6IjE2cHgiLCJsYWJlbEJhY2tncm91bmQiOiIjZThlOGU4Iiwibm9kZUJrZyI6IiNFQ0VDRkYiLCJub2RlQm9yZGVyIjoiIzkzNzBEQiIsImNsdXN0ZXJCa2ciOiIjZmZmZmRlIiwiY2x1c3RlckJvcmRlciI6IiNhYWFhMzMiLCJkZWZhdWx0TGlua0NvbG9yIjoiIzMzMzMzMyIsInRpdGxlQ29sb3IiOiIjMzMzIiwiZWRnZUxhYmVsQmFja2dyb3VuZCI6IiNlOGU4ZTgiLCJhY3RvckJvcmRlciI6ImhzbCgyNTkuNjI2MTY4MjI0MywgNTkuNzc2NTM2MzEyOCUsIDg3LjkwMTk2MDc4NDMlKSIsImFjdG9yQmtnIjoiI0VDRUNGRiIsImFjdG9yVGV4dENvbG9yIjoiYmxhY2siLCJhY3RvckxpbmVDb2xvciI6ImdyZXkiLCJzaWduYWxDb2xvciI6IiMzMzMiLCJzaWduYWxUZXh0Q29sb3IiOiIjMzMzIiwibGFiZWxCb3hCa2dDb2xvciI6IiNFQ0VDRkYiLCJsYWJlbEJveEJvcmRlckNvbG9yIjoiaHNsKDI1OS42MjYxNjgyMjQzLCA1OS43NzY1MzYzMTI4JSwgODcuOTAxOTYwNzg0MyUpIiwibGFiZWxUZXh0Q29sb3IiOiJibGFjayIsImxvb3BUZXh0Q29sb3IiOiJibGFjayIsIm5vdGVCb3JkZXJDb2xvciI6IiNhYWFhMzMiLCJub3RlQmtnQ29sb3IiOiIjZmZmNWFkIiwibm90ZVRleHRDb2xvciI6ImJsYWNrIiwiYWN0aXZhdGlvbkJvcmRlckNvbG9yIjoiIzY2NiIsImFjdGl2YXRpb25Ca2dDb2xvciI6IiNmNGY0ZjQiLCJzZXF1ZW5jZU51bWJlckNvbG9yIjoid2hpdGUiLCJzZWN0aW9uQmtnQ29sb3IiOiJyZ2JhKDEwMiwgMTAyLCAyNTUsIDAuNDkpIiwiYWx0U2VjdGlvbkJrZ0NvbG9yIjoid2hpdGUiLCJzZWN0aW9uQmtnQ29sb3IyIjoiI2ZmZjQwMCIsInRhc2tCb3JkZXJDb2xvciI6IiM1MzRmYmMiLCJ0YXNrQmtnQ29sb3IiOiIjOGE5MGRkIiwidGFza1RleHRMaWdodENvbG9yIjoid2hpdGUiLCJ0YXNrVGV4dENvbG9yIjoid2hpdGUiLCJ0YXNrVGV4dERhcmtDb2xvciI6ImJsYWNrIiwidGFza1RleHRPdXRzaWRlQ29sb3IiOiJibGFjayIsInRhc2tUZXh0Q2xpY2thYmxlQ29sb3IiOiIjMDAzMTYzIiwiYWN0aXZlVGFza0JvcmRlckNvbG9yIjoiIzUzNGZiYyIsImFjdGl2ZVRhc2tCa2dDb2xvciI6IiNiZmM3ZmYiLCJncmlkQ29sb3IiOiJsaWdodGdyZXkiLCJkb25lVGFza0JrZ0NvbG9yIjoibGlnaHRncmV5IiwiZG9uZVRhc2tCb3JkZXJDb2xvciI6ImdyZXkiLCJjcml0Qm9yZGVyQ29sb3IiOiIjZmY4ODg4IiwiY3JpdEJrZ0NvbG9yIjoicmVkIiwidG9kYXlMaW5lQ29sb3IiOiJyZWQiLCJsYWJlbENvbG9yIjoiYmxhY2siLCJlcnJvckJrZ0NvbG9yIjoiIzU1MjIyMiIsImVycm9yVGV4dENvbG9yIjoiIzU1MjIyMiIsImNsYXNzVGV4dCI6IiMxMzEzMDAiLCJmaWxsVHlwZTAiOiIjRUNFQ0ZGIiwiZmlsbFR5cGUxIjoiI2ZmZmZkZSIsImZpbGxUeXBlMiI6ImhzbCgzMDQsIDEwMCUsIDk2LjI3NDUwOTgwMzklKSIsImZpbGxUeXBlMyI6ImhzbCgxMjQsIDEwMCUsIDkzLjUyOTQxMTc2NDclKSIsImZpbGxUeXBlNCI6ImhzbCgxNzYsIDEwMCUsIDk2LjI3NDUwOTgwMzklKSIsImZpbGxUeXBlNSI6ImhzbCgtNCwgMTAwJSwgOTMuNTI5NDExNzY0NyUpIiwiZmlsbFR5cGU2IjoiaHNsKDgsIDEwMCUsIDk2LjI3NDUwOTgwMzklKSIsImZpbGxUeXBlNyI6ImhzbCgxODgsIDEwMCUsIDkzLjUyOTQxMTc2NDclKSJ9fSwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ)](https://mermaid-js.github.io/mermaid-live-editor/edit#eyJjb2RlIjoiZ3JhcGggTFJcbiAgaW5wdXQoXCJhbnkgaW5wdXRzICZlbnNwO1wiKVxuICBvdXRwdXQoXCJvdXRwdXRzICZlbnNwO1wiKVxuICBzdWJncmFwaCBcIm1ldGFmcmFtZSAmZW5zcDtcIlxuICAgIHVybFtcImphdmFzY3JpcHQgY29kZSBpbiBoYXNoIHBhcmFtcyAmZW5zcDtcIl0gLS0-IHRoaXNcbiAgICB0aGlzW1tcIm1ldGFmcmFtZSBleGVjdXRlcyBqYXZhc2NyaXB0IG9uIG5ldyBpbnB1dHMgJmVuc3A7XCJdXVxuICBlbmRcbiAgaW5wdXQgLS0-IHRoaXNcbiAgdGhpcyAtLT4gb3V0cHV0XG4iLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCIsInRoZW1lVmFyaWFibGVzIjp7ImJhY2tncm91bmQiOiJ3aGl0ZSIsInByaW1hcnlDb2xvciI6IiNFQ0VDRkYiLCJzZWNvbmRhcnlDb2xvciI6IiNmZmZmZGUiLCJ0ZXJ0aWFyeUNvbG9yIjoiaHNsKDgwLCAxMDAlLCA5Ni4yNzQ1MDk4MDM5JSkiLCJwcmltYXJ5Qm9yZGVyQ29sb3IiOiJoc2woMjQwLCA2MCUsIDg2LjI3NDUwOTgwMzklKSIsInNlY29uZGFyeUJvcmRlckNvbG9yIjoiaHNsKDYwLCA2MCUsIDgzLjUyOTQxMTc2NDclKSIsInRlcnRpYXJ5Qm9yZGVyQ29sb3IiOiJoc2woODAsIDYwJSwgODYuMjc0NTA5ODAzOSUpIiwicHJpbWFyeVRleHRDb2xvciI6IiMxMzEzMDAiLCJzZWNvbmRhcnlUZXh0Q29sb3IiOiIjMDAwMDIxIiwidGVydGlhcnlUZXh0Q29sb3IiOiJyZ2IoOS41MDAwMDAwMDAxLCA5LjUwMDAwMDAwMDEsIDkuNTAwMDAwMDAwMSkiLCJsaW5lQ29sb3IiOiIjMzMzMzMzIiwidGV4dENvbG9yIjoiIzMzMyIsIm1haW5Ca2ciOiIjRUNFQ0ZGIiwic2Vjb25kQmtnIjoiI2ZmZmZkZSIsImJvcmRlcjEiOiIjOTM3MERCIiwiYm9yZGVyMiI6IiNhYWFhMzMiLCJhcnJvd2hlYWRDb2xvciI6IiMzMzMzMzMiLCJmb250RmFtaWx5IjoiXCJ0cmVidWNoZXQgbXNcIiwgdmVyZGFuYSwgYXJpYWwiLCJmb250U2l6ZSI6IjE2cHgiLCJsYWJlbEJhY2tncm91bmQiOiIjZThlOGU4Iiwibm9kZUJrZyI6IiNFQ0VDRkYiLCJub2RlQm9yZGVyIjoiIzkzNzBEQiIsImNsdXN0ZXJCa2ciOiIjZmZmZmRlIiwiY2x1c3RlckJvcmRlciI6IiNhYWFhMzMiLCJkZWZhdWx0TGlua0NvbG9yIjoiIzMzMzMzMyIsInRpdGxlQ29sb3IiOiIjMzMzIiwiZWRnZUxhYmVsQmFja2dyb3VuZCI6IiNlOGU4ZTgiLCJhY3RvckJvcmRlciI6ImhzbCgyNTkuNjI2MTY4MjI0MywgNTkuNzc2NTM2MzEyOCUsIDg3LjkwMTk2MDc4NDMlKSIsImFjdG9yQmtnIjoiI0VDRUNGRiIsImFjdG9yVGV4dENvbG9yIjoiYmxhY2siLCJhY3RvckxpbmVDb2xvciI6ImdyZXkiLCJzaWduYWxDb2xvciI6IiMzMzMiLCJzaWduYWxUZXh0Q29sb3IiOiIjMzMzIiwibGFiZWxCb3hCa2dDb2xvciI6IiNFQ0VDRkYiLCJsYWJlbEJveEJvcmRlckNvbG9yIjoiaHNsKDI1OS42MjYxNjgyMjQzLCA1OS43NzY1MzYzMTI4JSwgODcuOTAxOTYwNzg0MyUpIiwibGFiZWxUZXh0Q29sb3IiOiJibGFjayIsImxvb3BUZXh0Q29sb3IiOiJibGFjayIsIm5vdGVCb3JkZXJDb2xvciI6IiNhYWFhMzMiLCJub3RlQmtnQ29sb3IiOiIjZmZmNWFkIiwibm90ZVRleHRDb2xvciI6ImJsYWNrIiwiYWN0aXZhdGlvbkJvcmRlckNvbG9yIjoiIzY2NiIsImFjdGl2YXRpb25Ca2dDb2xvciI6IiNmNGY0ZjQiLCJzZXF1ZW5jZU51bWJlckNvbG9yIjoid2hpdGUiLCJzZWN0aW9uQmtnQ29sb3IiOiJyZ2JhKDEwMiwgMTAyLCAyNTUsIDAuNDkpIiwiYWx0U2VjdGlvbkJrZ0NvbG9yIjoid2hpdGUiLCJzZWN0aW9uQmtnQ29sb3IyIjoiI2ZmZjQwMCIsInRhc2tCb3JkZXJDb2xvciI6IiM1MzRmYmMiLCJ0YXNrQmtnQ29sb3IiOiIjOGE5MGRkIiwidGFza1RleHRMaWdodENvbG9yIjoid2hpdGUiLCJ0YXNrVGV4dENvbG9yIjoid2hpdGUiLCJ0YXNrVGV4dERhcmtDb2xvciI6ImJsYWNrIiwidGFza1RleHRPdXRzaWRlQ29sb3IiOiJibGFjayIsInRhc2tUZXh0Q2xpY2thYmxlQ29sb3IiOiIjMDAzMTYzIiwiYWN0aXZlVGFza0JvcmRlckNvbG9yIjoiIzUzNGZiYyIsImFjdGl2ZVRhc2tCa2dDb2xvciI6IiNiZmM3ZmYiLCJncmlkQ29sb3IiOiJsaWdodGdyZXkiLCJkb25lVGFza0JrZ0NvbG9yIjoibGlnaHRncmV5IiwiZG9uZVRhc2tCb3JkZXJDb2xvciI6ImdyZXkiLCJjcml0Qm9yZGVyQ29sb3IiOiIjZmY4ODg4IiwiY3JpdEJrZ0NvbG9yIjoicmVkIiwidG9kYXlMaW5lQ29sb3IiOiJyZWQiLCJsYWJlbENvbG9yIjoiYmxhY2siLCJlcnJvckJrZ0NvbG9yIjoiIzU1MjIyMiIsImVycm9yVGV4dENvbG9yIjoiIzU1MjIyMiIsImNsYXNzVGV4dCI6IiMxMzEzMDAiLCJmaWxsVHlwZTAiOiIjRUNFQ0ZGIiwiZmlsbFR5cGUxIjoiI2ZmZmZkZSIsImZpbGxUeXBlMiI6ImhzbCgzMDQsIDEwMCUsIDk2LjI3NDUwOTgwMzklKSIsImZpbGxUeXBlMyI6ImhzbCgxMjQsIDEwMCUsIDkzLjUyOTQxMTc2NDclKSIsImZpbGxUeXBlNCI6ImhzbCgxNzYsIDEwMCUsIDk2LjI3NDUwOTgwMzklKSIsImZpbGxUeXBlNSI6ImhzbCgtNCwgMTAwJSwgOTMuNTI5NDExNzY0NyUpIiwiZmlsbFR5cGU2IjoiaHNsKDgsIDEwMCUsIDk2LjI3NDUwOTgwMzklKSIsImZpbGxUeXBlNyI6ImhzbCgxODgsIDEwMCUsIDkzLjUyOTQxMTc2NDclKSJ9fSwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ)


This metaframe will execute javascript from code embedded in the URL hash params.

  - There is a `div` with the id `render` for adding your own elements.


## Examples


### Listen to metaframe input (radian value) and rotate a box on a canvas AND cycle through colors generated by chromajs

[ðŸ‘‰ Live example ðŸ”—](https://app.metapages.org/#?definition=IntcbiAgXCJ2ZXJzaW9uXCI6IFwiMC4zXCIsXG4gIFwibWV0YVwiOiB7XG4gICAgXCJsYXlvdXRzXCI6IHtcbiAgICAgIFwiZmxleGJveGdyaWRcIjoge1xuICAgICAgICBcImRvY3NcIjogXCJodHRwOi8vZmxleGJveGdyaWQuY29tL1wiLFxuICAgICAgICBcImxheW91dFwiOiBbXG4gICAgICAgICAgW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJnZW5lcmF0ZVwiLFxuICAgICAgICAgICAgICBcIndpZHRoXCI6IFwiY29sLXhzLTNcIixcbiAgICAgICAgICAgICAgXCJzdHlsZVwiOiB7XG4gICAgICAgICAgICAgICAgXCJtYXhIZWlnaHRcIjogXCI2MDBweFwiLFxuICAgICAgICAgICAgICAgIFwib3ZlcmZsb3dZXCI6IFwiaGlkZGVuXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiamF2YXNjcmlwdFwiLFxuICAgICAgICAgICAgICBcIndpZHRoXCI6IFwiY29sLXhzLTdcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgXCJtZXRhZnJhbWVzXCI6IHtcbiAgICBcImdlbmVyYXRlXCI6IHtcbiAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9tZXRhcGFnZXMuZ2l0aHViLmlvL21ldGFmcmFtZS1nZW5lcmF0b3IvIz9vcHRpb25zPWV5Sm1jbVZ4ZFdWdVkza2lPakl3TENKa2FYTjBjbWxpZFhScGIyNGlPaUp6YVc0aUxDSnBibU55WlcxbGJuUWlPakF1TVgwPVwiXG4gICAgfSxcbiAgICBcImphdmFzY3JpcHRcIjoge1xuICAgICAgXCJ1cmxcIjogXCJodHRwczovL21ldGFwYWdlcy5naXRodWIuaW8vbWV0YWZyYW1lLW5wbS1jaHJvbWEtanMvIz9vcHRpb25zPWV5SnRiMlJsSWpvaWFtRjJZWE5qY21sd2RDSXNJblJvWlcxbElqb2liR2xuYUhRaUxDSm9hV1JsWldScGRHOXlJanBtWVd4elpYMCZ0ZXh0PVkyOXVjM1FnWkdsemNHOXpaWEp6SUQwZ1cxMDdDZ3BqYjI1emRDQnliMjkwSUQwZ1pHOWpkVzFsYm5RdVoyVjBSV3hsYldWdWRFSjVTV1FvSjNKbGJtUmxjaWNwT3dwM2FHbHNaU0FvY205dmRDNW1hWEp6ZEVOb2FXeGtLU0I3Q2lBZ0lDQnliMjkwTG5KbGJXOTJaVU5vYVd4a0tISnZiM1F1YkdGemRFTm9hV3hrS1RzS0lDQjlDblpoY2lCallXNTJZWE1nUFNCa2IyTjFiV1Z1ZEM1amNtVmhkR1ZGYkdWdFpXNTBLQ2RqWVc1MllYTW5LVHNLWTJGdWRtRnpMbmRwWkhSb0lEMGdNakF3T3dwallXNTJZWE11YUdWcFoyaDBJRDBnTWpBd093cHliMjkwTG1Gd2NHVnVaRU5vYVd4a0tHTmhiblpoY3lrN0NncGpiMjV6ZENCamRIZ2dQU0JqWVc1MllYTXVaMlYwUTI5dWRHVjRkQ2duTW1RbktUc0tZMjl1YzNRZ1czY3NJR2hkSUQwZ1d5QXlNQ3dnWTJGdWRtRnpMbWhsYVdkb2RDQmRPd3BqYjI1emRDQmJlQ3dnZVYwZ1BTQmJZMkZ1ZG1GekxuZHBaSFJvSUM4Z01pd2dZMkZ1ZG1GekxtaGxhV2RvZENBdklESmRPd29LQ21OdmJuTjBJSE5qWVd4bElEMGdZMmh5YjIxaExuTmpZV3hsS0ZzbkkyWmhabUUyWlNjc0p5TXlRVFE0TlRnblhTa0tJQ0FnSUM1dGIyUmxLQ2RzWTJnbktTNWpiMnh2Y25Nb01UQXdLVHNLQ2dwamIyNXpkQ0JrY21GM0lEMGdLSEpoWkNrZ1BUNGdld29LSUNBZ0lHTnZibk4wSUdOdmJHOXlJRDBnYzJOaGJHVmJUV0YwYUM1bWJHOXZjaWhOWVhSb0xtRmljeWh5WVdRZ0tpQXhNREFwS1YwZ2ZId2dKeU15UVRRNE5UZ25Pd29nSUNBZ1kzUjRMbU5zWldGeVVtVmpkQ2d3TENBd0xDQmpZVzUyWVhNdWQybGtkR2dzSUdOaGJuWmhjeTVvWldsbmFIUXBPd29LSUNBZ0lDOHZJR1pwY25OMElITmhkbVVnZEdobElIVnVkSEpoYm5Oc1lYUmxaQzkxYm5KdmRHRjBaV1FnWTI5dWRHVjRkQW9nSUNBZ1kzUjRMbk5oZG1Vb0tUc0tDaUFnSUNCamRIZ3VZbVZuYVc1UVlYUm9LQ2s3Q2lBZ0lDQXZMeUJ0YjNabElIUm9aU0J5YjNSaGRHbHZiaUJ3YjJsdWRDQjBieUIwYUdVZ1kyVnVkR1Z5SUc5bUlIUm9aU0J5WldOMENpQWdJQ0JqZEhndWRISmhibk5zWVhSbEtIZ2dMQ0JvSUM4Z01pazdDaUFnSUNBdkx5QnliM1JoZEdVZ2RHaGxJSEpsWTNRS0lDQWdJR04wZUM1eWIzUmhkR1VvY21Ga0tUc0tDaUFnSUNBdkx5QmtjbUYzSUhSb1pTQnlaV04wSUc5dUlIUm9aU0IwY21GdWMyWnZjbTFsWkNCamIyNTBaWGgwQ2lBZ0lDQmpkSGd1Y21WamRDZ3RkeUF2SURJc0lDMW9JQzhnTWl3Z2R5d2dhQ2s3Q2dvZ0lDQWdZM1I0TG1acGJHeFRkSGxzWlNBOUlHTnZiRzl5T3dvZ0lDQWdZM1I0TG1acGJHd29LVHNLQ2lBZ0lDQmpkSGd1Y21WemRHOXlaU2dwT3dwOUNnb3ZMeUJNYVhOMFpXNGdkRzhnWVc0Z2FXNXdkWFFLWkdsemNHOXpaWEp6TG5CMWMyZ29iV1YwWVdaeVlXMWxMbTl1U1c1d2RYUW9JbkpoWkdsaGJuTWlMQ0JrY21GM0tTazdDZ292THlCU1pYUjFjbTRnWVNCamJHVmhiblZ3SUdaMWJtTjBhVzl1Q25KbGRIVnliaUFvS1NBOVBpQjdDaUFnSUNCM2FHbHNaU2hrYVhOd2IzTmxjbk11YkdWdVozUm9JRDRnTUNrZ2V3b2dJQ0FnSUNBZ0lHUnBjM0J2YzJWeWN5NXdiM0FvS1NncE93b2dJQ0FnZlFwOVwiLFxuICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJtZXRhZnJhbWVcIjogXCJnZW5lcmF0ZVwiLFxuICAgICAgICAgIFwic291cmNlXCI6IFwidlwiLFxuICAgICAgICAgIFwidGFyZ2V0XCI6IFwicmFkaWFuc1wiXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIH0sXG4gIFwicGx1Z2luc1wiOiBbXG4gICAgXCJodHRwczovL21ldGFwYWdlcy5naXRodWIuaW8vbWV0YWZyYW1lLWVkaXRvci9cIlxuICBdXG59Ig==)


### Listen to metaframe inputs, and send outputs:

[ðŸ‘‡ Below example live ðŸ”—](https://app.metapages.org/#?definition=IntcbiAgXCJ2ZXJzaW9uXCI6IFwiMC4zXCIsXG4gIFwibWV0YVwiOiB7XG4gICAgXCJsYXlvdXRzXCI6IHtcbiAgICAgIFwiZmxleGJveGdyaWRcIjoge1xuICAgICAgICBcImRvY3NcIjogXCJodHRwOi8vZmxleGJveGdyaWQuY29tL1wiLFxuICAgICAgICBcImxheW91dFwiOiBbXG4gICAgICAgICAgW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJyYW5kb20tZGF0YS1nZW5lcmF0b3JcIixcbiAgICAgICAgICAgICAgXCJ3aWR0aFwiOiBcImNvbC14cy0zXCIsXG4gICAgICAgICAgICAgIFwic3R5bGVcIjoge1xuICAgICAgICAgICAgICAgIFwibWF4SGVpZ2h0XCI6IFwiNjAwcHhcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJqYXZhc2NyaXB0XCIsXG4gICAgICAgICAgICAgIFwid2lkdGhcIjogXCJjb2wteHMtN1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzaG93LW91dHB1dFwiLFxuICAgICAgICAgICAgICBcIndpZHRoXCI6IFwiY29sLXhzLTJcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgXCJtZXRhZnJhbWVzXCI6IHtcbiAgICBcInJhbmRvbS1kYXRhLWdlbmVyYXRvclwiOiB7XG4gICAgICBcInVybFwiOiBcImh0dHBzOi8vbWV0YXBhZ2VzLm9yZy9tZXRhZnJhbWVzL3JhbmRvbS1kYXRhLWdlbmVyYXRvci8/ZnJlcXVlbmN5PTEwMDBcIlxuICAgIH0sXG4gICAgXCJqYXZhc2NyaXB0XCI6IHtcbiAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9tZXRhcGFnZXMuZ2l0aHViLmlvL21ldGFmcmFtZS1qYXZhc2NyaXB0LyM/b3B0aW9ucz1leUp0YjJSbElqb2lhbUYyWVhOamNtbHdkQ0lzSW5Sb1pXMWxJam9pYkdsbmFIUWlMQ0pvYVdSbFpXUnBkRzl5SWpwbVlXeHpaWDAmdGV4dD1ZMjl1YzNRZ1pHbHpjRzl6WlhKeklEMGdXMTA3Q2k4dklFeHBjM1JsYmlCMGJ5QmhiaUJwYm5CMWRBcGthWE53YjNObGNuTXVjSFZ6YUNodFpYUmhabkpoYldVdWIyNUpibkIxZENnaWVTSXNJQ2hwYm5CMWRGWmhiSFZsS1NBOVBpQjdDaUFnSUNBdkx5QkJibVFnYzJWdVpDQmhiaUJ2ZFhSd2RYUUtJQ0FnSUcxbGRHRm1jbUZ0WlM1elpYUlBkWFJ3ZFhRb0lua2lMQ0JnUjI5MElHbHVjSFYwT2lBa2UybHVjSFYwVm1Gc2RXVjlZQ2s3Q24wcEtUc0tDaTh2SUZKbGRIVnliaUJoSUdOc1pXRnVkWEFnWm5WdVkzUnBiMjRLY21WMGRYSnVJQ2dwSUQwK0lIc0tJQ0FnSUhkb2FXeGxLR1JwYzNCdmMyVnljeTVzWlc1bmRHZ2dQaUF3S1NCN0NpQWdJQ0FnSUNBZ1pHbHpjRzl6WlhKekxuQnZjQ2dwS0NrN0NpQWdJQ0I5Q24wPVwiLFxuICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJtZXRhZnJhbWVcIjogXCJyYW5kb20tZGF0YS1nZW5lcmF0b3JcIixcbiAgICAgICAgICBcInNvdXJjZVwiOiBcInlcIlxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSxcbiAgICBcInNob3ctb3V0cHV0XCI6IHtcbiAgICAgICAgXCJ1cmxcIjogXCJodHRwczovL21ldGFwYWdlcy5vcmcvbWV0YWZyYW1lcy9wYXNzdGhyb3VnaC9cIixcbiAgICAgICAgXCJpbnB1dHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJtZXRhZnJhbWVcIjogXCJqYXZhc2NyaXB0XCIsXG4gICAgICAgICAgXCJzb3VyY2VcIjogXCIqXCJcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cbiAgfSxcbiAgXCJwbHVnaW5zXCI6IFtcbiAgICBcImh0dHBzOi8vbWV0YXBhZ2VzLm9yZy9tZXRhZnJhbWVzL21lcm1haWQuanMvP1RJVExFPTBcIixcbiAgICBcImh0dHBzOi8vbWV0YXBhZ2VzLmdpdGh1Yi5pby9tZXRhZnJhbWUtZWRpdG9yL1wiXG4gIF1cbn0i)

```javascript

const disposers = [];

// Listen to an input
disposers.push(metaframe.onInput("someInputName", (inputValue) => {
    // And send an output
    metaframe.setOutput("someOutputName", `Got input: ${inputValue}`);
}));

// Return a cleanup function
return () => {
    while(disposers.length > 0) {
        disposers.pop()();
    }
}

```

### Async

The script is run as an async function so you can await:

```javascript

const key = Math.random();
console.log(`Starting key=${key}`)

async function waitUntil(condition) {
  return await new Promise(resolve => {
    const interval = setInterval(() => {
      if (condition) {
        resolve('foo');
        clearInterval(interval);
      };
    }, 1000);
  });
}

await waitUntil(1000);

console.log(`Finished key=${key}`)

return () => {
    console.log(`Cleaning up key=${key}`)
}

```

## Source

[https://github.com/metapages/metaframe-javascript](https://github.com/metapages/metaframe-javascript)
